<div class="container">
	<div class="row">
		<div class="col-md-10 col-md-offset-1">
		  	<h1>Welcome to the Study.</h1>
		  	<p class="lead">Please enter the study participant's RADAR survey ID.</p>
		  	<ul class="status">
		  	</ul>
		  	<form role="form" id="step1">
		  		<div class="form-group">
		  			<label for="radarID">Radar ID:</label>
				  	<input type="number" class="form-control radarID" id="radarID" required>
				</div>
				<div class="form-group">
					<label for="sessionID">Session ID:</label>
				  	<input type="text" class="form-control sessionID" id="sessionID" disabled>
				</div>
                <div class="btn-group" data-toggle="buttons">              
                    <label class="btn">
                      <input type="radio" name='seed_status_t0' data-value="Seed"><i class="fa fa-circle-o fa-2x"></i><i class="fa fa-check-circle-o fa-2x"></i> Seed
                    </label>
                    <label class="btn">
                      <input type="radio" name='seed_status_t0' data-value="Non-Seed"><i class="fa fa-circle-o fa-2x"></i><i class="fa fa-check-circle-o fa-2x"></i> Non-Seed
                    </label>
                </div>
                <div class="form-group">
				  	<button type="submit" class="btn btn-primary submit-1">Continue</button>
				</div>
			</form>
		</div>
	</div>
</div>
<script>

	$('.radarID').focus();
	var readable = new Date(session.returnData('session').int_stime);
	$('.startDate').val(readable);
	$('.sessionID').val(session.returnData('session').sessionID);
	$('.radarID').val(network.getNode(0).radar_id);
	$("input:radio[name=seed_status_t0][data-value='"+network.getNode(0).seed_status_t0+"']").prop('checked', true);
	$("input:radio[name=seed_status_t0][data-value='"+network.getNode(0).seed_status_t0+"']").parent().addClass('active');


	$( "#step1" ).submit(function( event ) {
	  event.preventDefault();

	      // Add the start date to the session.
	    var now = new Date();
	    var month = now.getUTCMonth()+1;
	    var day = now.getUTCDate()+1;
	    var year = now.getUTCFullYear();
	    var sdate = year + "/" + month + "/" + day;
	    var stime = now.getTime();

	  // check if root node already exists
	  if (network.getNode(0) !== false) {
	  	// update any existing node
		  network.updateNode(0,{
		  	id:0,
		  	label:'Root', 
		  	type_t0: 'Ego', 
		  	radar_id: $('.radarID').val(), 
		  	int_date_t0: sdate,
		  	int_stime_t0: stime,
		  	seed_status_t0: $("input:radio[name=seed_status_t0]:checked").data('value')
		  });

	  } else {
	  	// create a new root node if one doesn't already exist
		  network.addNode({
		  	id:0,
		  	label:'Root', 
		  	type_t0: 'Ego', 
		  	radar_id: $('.radarID').val(), 
		  	int_date_t0: sdate,
		  	int_stime_t0: stime,
		  	seed_status_t0: $("input:radio[name=seed_status_t0]:checked").data('value')
		  });

	  }

	  session.nextStage();
	});

</script>