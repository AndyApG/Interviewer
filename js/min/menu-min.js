var Menu=function n(o){function e(n,o){for(var e in o)o.hasOwnProperty(e)&&(n[e]=o[e]);return n}var t={},i=[],s=!1,a=$(".menu-container");return t.options={onBeforeOpen:function(){$(".arrow-right").transition({right:-550}),$(".arrow-left").transition({left:-550}),$(".content").addClass("pushed")},onAfterOpen:function(){},onBeforeClose:function(){$(".content").removeClass("pushed")},onAfterClose:function(){$(".arrow-right").transition({right:0},1e3),$(".arrow-left").transition({left:0},1e3)}},t.getMenus=function(){return i},t.toggle=function(n){var o=n.button[0].getBoundingClientRect();console.log(o);var e=$("."+n.name+"-menu"),i=$("."+n.name+"-menu-container");return console.log(e),e.addClass("no-transition"),e[0].style.left="auto",e[0].style.top="auto",s===!0?(console.log("already isAnimating"),!1):(s=!0,n.expanded===!0?(console.log("closing"),t.options.onBeforeClose(),i.removeClass("active"),t.options.onAfterClose(),s=!1):($(".menu-btn").transition({opacity:0}),$(".menu-btn").hide(),console.log("opening"),t.options.onBeforeOpen(),i.addClass("active"),t.options.onAfterOpen(),s=!1),void setTimeout(function(){e[0].style.left=o.left+"px",e[0].style.top=o.top+"px",n.expanded===!0?(console.log("expanded already"),e.removeClass("no-transition"),i.removeClass("open"),n.expanded=!1,$(".menu-btn").transition({opacity:1})):setTimeout(function(){e.removeClass("no-transition"),i.addClass("open"),n.expanded=!0},25)},25))},t.addMenu=function(n,o){var e={};e.name=n,e.expanded=!1,e.button=$('<span class="hi-icon menu-btn '+n+'"></span>'),e.button.addClass(o).html(n),a.append(e.button);var s=n+"-menu",r=n+"-menu-container";return e.items=$('<div class="morph-button morph-button-sidebar morph-button-fixed '+r+'"><div class="morph-content '+s+'"><div><div class="content-style-sidebar"><span class="icon icon-close">Close the overlay</span><h2>'+n+"</h2><ul></ul></div></div></div></div>"),e.button.after(e.items),e.button.on("click",function(){t.toggle(e)}),console.log(e.items.find(".icon-close")),e.items.find(".icon-close").on("click",function(){$(".menu-btn").show(),t.toggle(e)}),i.push(e),e},t.addItem=function(n,o,e,t){var i=$('<li><a class="icon icon-server '+e+'" href="#">'+o+"</a></li>");n.items.find("ul").append(i),i.on("click",function(){t()})},t.init=function(){console.log(o),e(t.options,o)},t.init(),t};