var GeoInterface=function e(){function e(e){var t=e.target,o;f===!1?(n(e),f=t.feature.properties.name,o={},o[p]=t.feature.properties.name,network.updateEdge(m[u].id,o),$(".map-node-location").html("<strong>Currently marked as:</strong> <br>"+t.feature.properties.name)):t.feature.properties.name===f&&(r(e),f=!1,o={},o[p]=void 0,network.updateEdge(m[u].id,o))}function t(){void 0!==m[u][p]?$.each(d._layers,function(e,t){t.feature.properties.name===m[u][p]&&($(".map-node-location").html("<strong>Currently marked as:</strong> <br>"+m[u][p]),o(t))}):s()}function n(e){var t=e.target;l.fitBounds(e.target.getBounds(),{maxZoom:14}),t.setStyle({fillOpacity:.8}),L.Browser.ie||L.Browser.opera||t.bringToFront()}function o(e){var t=e;l.fitBounds(e.getBounds(),{maxZoom:14}),t.setStyle({fillOpacity:.8}),L.Browser.ie||L.Browser.opera||t.bringToFront()}function r(e){$(".map-node-location").html(""),f=!1,d.resetStyle(e.target)}function a(){$(".map-node-location").html(""),f=!1,$.each(d._layers,function(e,t){d.resetStyle(t)})}function i(t,n){n.on({click:e})}function s(){l.setView([41.798395426119534,-87.83967137233888],11)}var c={},l,m,p="res_chicago_location_p_t0",u=0,d,f=!1,g=["#67c2d4","#1ECD97","#B16EFF","#FA920D","#e85657","#20B0CA","#FF2592","#153AFF","#8708FF"];return c.nextPerson=function(){u<m.length-1&&(a(),u++,$(".current-id").html(u+1),$(".map-node-status").html("Tap on the map to indicate the general area where <strong>"+m[u].nname_t0+"</strong> lives."),t())},c.previousPerson=function(){u>0&&(a(),u--,$(".current-id").html(u+1),$(".map-node-status").html("Tap on the map to indicate the general area where <strong>"+m[u].nname_t0+"</strong> lives."),t())},c.init=function(){l=L.map("map",{maxBounds:[[41.4985986599114,-88.49824022406345],[42.1070175291862,-87.07098424716594]],zoomControl:!1}),L.tileLayer("img/Tiles/{z}/{x}/{y}.png",{maxZoom:17,minZoom:11}).addTo(l),$.ajax({dataType:"json",url:"data/census2010.json",success:function(e){d=L.geoJson(e,{onEachFeature:i,style:function(){return{stroke:"#ff0000",fillColor:g[1],weight:0,fillOpacity:.3,strokeWidth:0}}}).addTo(l),m=network.getEdges({from:network.getNodes({type_t0:"Ego"})[0].id,type:"Dyad",res_cat_p_t0:"Chicago"}),$(".map-counter").html('<span class="current-id">1</span>/'+m.length),$(".map-node-status").html("Tap on the map to indicate the general area where <strong>"+m[0].nname_t0+"</strong> lives."),t()}}).error(function(){}),$(".map-back").on("click",c.previousPerson),$(".map-forwards").on("click",c.nextPerson)},c.destroy=function(){$(".map-back").off("click",c.previousPerson),$(".map-forwards").off("click",c.nextPerson)},c.init(),c};