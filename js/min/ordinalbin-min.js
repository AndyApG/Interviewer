var OrdinalBin=function e(n){var t={};t.options={targetEl:$(".container"),edgeType:"Dyad",variable:{label:"gender_p_t0",values:["Female","Male","Transgender","Don't Know","Won't Answer"]},heading:"Default Heading",subheading:"Default Subheading."},extend(t.options,n);var a,i,o=function(){t.destroy()};return t.destroy=function(){notify("Destroying ordinalBin.",0),window.removeEventListener("changeStageStart",o,!1)},t.init=function(){t.options.targetEl.append("<h1>"+t.options.heading+"</h1>"),t.options.targetEl.append('<p class="lead">'+t.options.subheading+"</p>"),t.options.targetEl.append('<div class="node-bucket"></div>');var e=t.options.variable.values.length;a=$(".container").outerWidth()/e-20,i=$(".container").outerHeight()-300,$.each(t.options.variable.values,function(e,n){var a=$('<div class="ord-node-bin node-bin-static n'+e+'" data-index="'+e+'"><h1>'+n.label+'</h1><p class="lead">(Empty)</p><div class="active-node-list"></div></div>');a.data("index",e),t.options.targetEl.append(a),$(".n"+e).droppable({accept:".draggable",drop:function(n,a){var i=a.draggable,o=$(this);$(i).appendTo(o.children(".active-node-list")),$(i).css({position:"",top:"",left:""});var d={};d[t.options.variable.label]=t.options.variable.values[e].value;var r=network.getEdges({from:network.getNodes({type_t0:"Ego"})[0].id,to:$(i).data("node-id"),type:"Dyad"})[0].id;network.updateEdge(r,d),$.each($(".ord-node-bin"),function(e){var n=$(".n"+e).children(".active-node-list").children().length;if(n>0){var t="people";1===n&&(t="person"),$(".n"+e+" p").html(n+" "+t+".")}else $(".n"+e+" p").html("(Empty)")});var l=$(".n"+e);setTimeout(function(){l.transition({background:l.data("oldBg")},200,"ease")},0),$(".draggable").draggable({cursor:"pointer",revert:"invalid",disabled:!1,start:function(){$(".ord-node-bin").children(".active-node-list").css({overflow:"visible"})}})},over:function(){$(this).data("oldBg",$(this).css("background-color")),$(this).stop().transition({background:"rgba(255, 193, 0, 1.0)"},400,"ease")},out:function(){$(this).stop().transition({background:$(this).data("oldBg")},500,"ease")}})}),$(".ord-node-bin").css({width:a,height:i});var n=network.getEdges({from:network.getNodes({type_t0:"Ego"})[0].id,type:t.options.edgeType});$.each(n,function(e,n){if(void 0!==n[t.options.variable.label]&&""!==n[t.options.variable.label]){e="error",$.each(t.options.variable.values,function(a,i){n[t.options.variable.label]===i.value&&(e=a,console.log("found it! "+a))}),$(".n"+e).children(".active-node-list").append('<div class="node-item draggable" data-node-id="'+n.to+'">'+n.nname_t0+"</div>");var a="people",i=$(".n"+e).children(".active-node-list").children().length;1===i&&(a="person"),$(".n"+e).children("p").html(0===i?"(Empty)":i+" "+a+".")}else $(".node-bucket").append('<div class="node-item draggable" data-node-id="'+n.to+'">'+n.nname_t0+"</div>")}),$(".draggable").draggable({cursor:"pointer",revert:"invalid",disabled:!1,start:function(){$(".ord-node-bin").children(".active-node-list").css({overflow:"visible"})}}),window.addEventListener("changeStageStart",o,!1)},t.init(),t};