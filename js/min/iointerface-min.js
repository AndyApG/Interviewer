var IOInterface=function n(){var n="http://localhost:3000",t="netCanvas",o,e={};return e.init=function(e){return e?o=e:void $.ajax({url:n+"/collections/"+t+"/",type:"POST",contentType:"application/json",dataType:"json",data:"",success:function(n){return o=n[0]._id,notify("id from last transaction: "+o,3),session.registerData("session"),localStorage.setObject("activeSession",o),session.addData("session",{sessionid:o}),o},error:function(){return!1}})},e.save=function(e){delete session.userData._id,notify("IOInterface being asked to synchronise with data store:",2),console.log(e),$.each(e,function(n,t){localStorage.setObject(n,t)});var a=n+"/collections/"+t+"/"+o;console.log(a),$.ajax({url:a,type:"PUT",contentType:"application/json",dataType:"json",data:JSON.stringify(e),success:function(n){console.log(n)},error:function(){console.log("failed")}})},e.update=function(o,e,a){$.ajax({url:n+"/collections/"+t+"/"+a,type:"PUT",contentType:"application/json",dataType:"json",data:JSON.stringify(e),success:function(){return!0},error:function(){return!1}})},e.load=function(e){notify("ioInterface being asked to load data.",2),$.getJSON(n+"/collections/"+t+"/"+o,function(n){delete n._id,notify("ioInterface returning data.",2),notify(n,1),e(n)})},e};