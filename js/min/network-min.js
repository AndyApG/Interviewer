var Network=function e(){var e={},n={},t=["Barney","Jonathon","Myles","Alethia","Tammera","Veola","Meredith","Renee","Grisel","Celestina","Fausto","Eliana","Raymundo","Lyle","Carry","Kittie","Melonie","Elke","Mattie","Kieth","Lourie","Marcie","Trinity","Librada","Lloyd","Pearlie","Velvet","Stephan","Hildegard","Winfred","Tempie","Maybelle","Melynda","Tiera","Lisbeth","Kiera","Gaye","Edra","Karissa","Manda","Ethelene","Michelle","Pamella","Jospeh","Tonette","Maren","Aundrea","Madelene","Epifania","Olive"];return e.init=function(){return notify("Network Initialising",2),window.nodes=session.registerData("nodes",!0),window.edges=session.registerData("edges",!0),!0},e.addNode=function(e){var n=session.returnData("nodes"),r={id:n.length,properties:[],label:t[Math.round(randomBetween(0,t.length-1))]};extend(r,e),n.push(r);var i=new CustomEvent("log",{detail:{eventType:"nodeCreate",eventObject:r}});window.dispatchEvent(i);var o=new CustomEvent("nodeAdded",{detail:r});window.dispatchEvent(o);var d=new Event("unsavedChanges");return window.dispatchEvent(d),r.id},e.addEdge=function(e){if(!e.from||!e.to)return!1;var n={id:window.edges.length,properties:[]};return extend(n,e),window.edges.push(n),n.id},e.getNode=function(e){if(void 0===e)return!1;for(var n=session.returnData("nodes"),t=0;t<n.length;t++)if(n[t].id===e)return n[t]},e.getEdge=function(e){return window.edges[e]},e.filterObject=function(e,n){if(!n)return!1;var t=e.filter(function(e){for(var t=Object.keys(e),r=0;r<t.length;r++)if(void 0!==n[t[r]]&&e[t[r]]===n[t[r]])return e});return t},e.getNodes=function(n){var t=session.returnData("nodes");return"undefined"!=typeof n&&0!==Object.keys(n).length?e.filterObject(t,n):t},e.getNodeEdges=function(n){return e.getEdges({from:n})},e.getEdges=function(n){return e.filterObject(window.edges,n)},e.setNodeProperties=function(e,n){if("undefined"==typeof e)return!1;if("object"==typeof e&&e.length>0){console.log("pass object");for(var t=0;t<e.length;t++)$.extend(e[t],n)}else console.log("passed single"),$.extend(e,n)},e.returnNetwork=function(){return n},e.returnAllNodes=function(){return session.returnData("nodes")},e.returnAllEdges=function(){return session.returnData("edges")},e.createRandomGraph=function(n,t){var r=session.returnData("nodes");n=n||10,t=t||.4,notify("Creating random graph...",1);for(var i=0;n>i;i++){var o=i+1;notify("Adding node "+o+" of "+n,2);var d={coords:[Math.round(randomBetween(100,window.innerWidth-100)),Math.round(randomBetween(100,window.innerHeight-100))]};e.addNode(d)}notify("Adding edges.",3),$.each(r,function(e){if(randomBetween(0,1)<t){var n=Math.round(randomBetween(0,r.length-1));session.addEdge(r[e],r[n])}})},e.init(),e};