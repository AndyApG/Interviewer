var Namegenerator=function e(t){var a={};a.options={targetEl:$(".container"),variables:[],heading:"This is a default heading",subheading:"And this is a default subheading"},extend(a.options,t);var n=!1,o=function(e){13!==e.keyCode||$(e.target).is("input, td")||(n?$("#step2").submit():a.openNodeBox()),27===e.keyCode&&a.closeNodeBox(),8!==e.keyCode||$(e.target).is("input, textarea, div")||e.preventDefault()},i=function(e){if(13!==e.keyCode){var t=$("#fname_t0").val()+" "+$("#lname_t0").val().charAt(0);$("#lname_t0").val().length>0&&(t+="."),$("#nname_t0").val(t)}},r=function(){a.closeNodeBox()},l=function(e){console.log(e)};return a.openNodeBox=function(){$("#ngForm input:text").first().focus(),$(".newNodeBox").transition({scale:1,opacity:1},300),n=!0,$("#firstName").focus()},a.closeNodeBox=function(){$(".newNodeBox").transition({scale:.1,opacity:0},500),n=!1,$("#ngForm").trigger("reset")},a.init=function(){var e=$('<h1 class="text-center"></h1>').html(a.options.heading);a.options.targetEl.append(e);var t=$('<p class="lead"></p>').html(a.options.subheading);a.options.targetEl.append(t);var n=$('<div class="newNodeBox"><form role="form" id="ngForm" class="form"></form></div>');a.options.targetEl.append(n),$.each(a.options.variables,function(e,t){if(t.private!==!0){var a=$('<div class="col-sm-12"><div class="form-group"><label class="sr-only" for="'+t.variable+'">'+t.label+'</label><input type="text" class="form-control '+t.variable+'" id="'+t.variable+'" placeholder="'+t.label+'" required></div></div>');$(".newNodeBox .form").append(a)}});var d=$('<div class="col-sm-12"><button type="submit" class="btn btn-primary submit-1">Add</button>&nbsp;<span class="btn btn-danger cancel">Cancel</span></div>');$(".newNodeBox .form").append(d);var s=$('<table class="table nameList"><thead><tr></tr></thead><tbody></tbody></table>');a.options.targetEl.append(s),$.each(a.options.variables,function(e,t){if(t.private!==!0){var a=$("<th></th>").html(t.label);$(".nameList thead tr").append(a)}}),$(document).on("keyup",o),window.addEventListener("nodeAdded",l,!1),$(".cancel").on("click",r),$("#fname_t0, #lname_t0").keyup(i),$("#ngForm").submit(function(){event.preventDefault();var e={},t={};$.each(a.options.variables,function(a,n){"edge"===n.target?e[n.variable]=n.private===!0?n.value:$("#"+n.variable).val():"node"===n.target&&(t[n.variable]=n.private===!0?n.value:$("#"+n.variable).val())}),console.log("new"),console.log(e),console.log(t);var n={};extend(n,t);var o=network.addNode(n),i={type:"Dyad",from:network.getNodes({type_t0:"Ego"})[0].id,to:o,k_or_p_t0:"known"};extend(i,e),network.addEdge(i),a.addToList(),$("#ngForm").trigger("reset"),a.closeNodeBox()})},a.addToList=function(e){var t,n;e?(t=$('<tr data-index="'+e.edgeID+'"></tr>'),$(".nameList tbody").append(t),$.each(a.options.variables,function(t,a){a.private!==!0&&(n=$('<td contenteditable class="'+a.variable+'">'+e[a.variable]+"</td>"),$(".nameList tbody tr").last().append(n))})):(t=$("<tr></tr>"),$(".nameList tbody").append(t),$.each(a.options.variables,function(e,t){t.private!==!0&&(n=$('<td contenteditable class="'+t.variable+'">'+$("#"+t.variable).val()+"</td>"),$(".nameList tbody tr").last().append(n))}))},a.update=function(e){var t={};$.each(a.options.variables,function(a,n){t[n.variable]=n.private===!0?n.value:$("tr[data-index="+e+"]").children("."+n.variable).html()}),network.updateEdge(e,t)},a.init(),a};