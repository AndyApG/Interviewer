var DateInterface=function e(){var e={},a;return e.options={targetEl:$(".container"),edgeType:"Dyad",heading:"Default Heading"},e.init=function(t){global.tools.extend(e.options,t),e.options.targetEl.append("<h1>"+e.options.heading+"</h1>"),e.options.targetEl.append('<p class="lead">'+e.options.subheading+"</p>"),e.options.targetEl.append('<div class="date-container"></div>'),a=global.network.getEdges(e.options.criteria);var i=0,d=0;$.each(a,function(e,a){var t=global.network.getEdges({type:"Dyad",from:global.network.getNodes({type_t0:"Ego"})[0].id,to:a.to})[0],n='<div class="date-picker-item overlay"><div class="row"><div class="col-sm-12"><h2>Regarding <span>'+t.nname_t0+'</span></h2></div></div><div class="row"><div class="col-sm-12 alert alert-danger logic-error" role="alert"><span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span><span class="sr-only">Error:</span> Your last sexual encounter cannot come before your first. Please correct the dates before continuing.</div><div class="col-sm-5"><div class="form-group"><p class="lead">When was the first time you had sex?</p><div class="input-append date first row'+d+'" id="datetimepicker'+i+'"><input type="text" data-format="dd-MM-yyyy" readonly /><span class="add-on"><i data-time-icon="icon-time" data-date-icon="icon-calendar"></i></span></div><div class="checkbox"><label><input type="checkbox" name="checkbox-time" class="checkbox-time checkbox'+i+'"> More than 6 months ago.</label></div></div></div><div class="col-sm-5 col-sm-offset-2"><div class="form-group"><p class="lead">When was the last time you had sex?</p><div class="input-append date second row'+d+'" id="datetimepicker'+(i+1)+'"><input type="text" data-format="dd-MM-yyyy" readonly /><span class="add-on"><i data-time-icon="icon-time" data-date-icon="icon-calendar"></i></span></div></div></div></div></div>';$(n).appendTo(".date-container");var r={pickTime:!1};$("#datetimepicker"+i).datepicker(r),$("#datetimepicker"+(i+1)).datepicker(r),"undefined"!=typeof a.sex_first_t0&&(null===a.sex_first_t0?($(".checkbox"+i).prop("checked",!0),$("#datetimepicker"+i).data("DateTimePicker").date(global.moment().subtract(6,"months").format("MM/DD/YYYY")),$("#datetimepicker"+i).children().css({opacity:.5}),$("#datetimepicker"+i).data("DateTimePicker").disable()):$("#datetimepicker"+i).data("DateTimePicker").date(a.sex_first_t0)),"undefined"!=typeof a.sex_last_t0&&(null===a.sex_last_t0?($(".checkbox"+(i+1)).prop("checked",!0),$("#datetimepicker"+(i+1)).data("DateTimePicker").date(global.moment().subtract(6,"months").format("MM/DD/YYYY")),$("#datetimepicker"+(i+1)).children().css({opacity:.5}),$("#datetimepicker"+(i+1)).data("DateTimePicker").disable()):$("#datetimepicker"+(i+1)).data("DateTimePicker").date(a.sex_last_t0)),$(".checkbox"+i+", .checkbox"+(i+1)).change(function(e){var a=$(e.target);this.checked?(a.parent().parent().parent().children(".date").data("DateTimePicker").date(global.moment().subtract(6,"months").format("MM/DD/YYYY")),a.parent().parent().parent().children(".date").data("DateTimePicker").disable(),a.parent().parent().parent().children(".date").children().css({opacity:.5})):(a.parent().parent().parent().children(".date").data("DateTimePicker").enable(),a.parent().parent().parent().children(".date").children().css({opacity:1}),a.parent().parent().parent().children(".date").data("DateTimePicker").date(global.moment().format("MM/DD/YYYY")))}),i+=2,d++})},e.destroy=function(){},e};module.exports=new DateInterface;